import{a as v,S as w,i as l}from"./assets/vendor-5YrzWRhu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const S="https://pixabay.com/api/",E="51504630-db9fa299e862fff98d3dacf4e";async function f(s,t=1){var r;try{return(await v.get(S,{params:{key:E,q:s,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:15}})).data}catch(a){throw console.error("Pixabay API error:",((r=a.response)==null?void 0:r.data)||a.message),new Error("Failed to fetch images")}}const m=document.querySelector(".gallery"),p=document.querySelector(".loader"),y=document.querySelector(".load-more-btn"),P=new w(".gallery a");function h(s){const t=s.map(r=>`
    <a href="${r.largeImageURL}" class="photo-card">
      <img src="${r.webformatURL}" alt="${r.tags}" loading="lazy" />
      <div class="info">
        <p><b>Likes:</b> ${r.likes}</p>
        <p><b>Views:</b> ${r.views}</p>
        <p><b>Comments:</b> ${r.comments}</p>
        <p><b>Downloads:</b> ${r.downloads}</p>
      </div>
    </a>
  `).join("");m.insertAdjacentHTML("beforeend",t),P.refresh()}function q(){m.innerHTML=""}function g(){p.classList.add("visible")}function i(){p.classList.remove("visible")}function b(){y.classList.add("visible")}function L(){y.classList.remove("visible")}let n=1,c="",u=0;const B=document.querySelector("form"),$=document.querySelector(".load-more-btn");B.addEventListener("submit",async s=>{if(s.preventDefault(),c=s.target.elements["search-text"].value.trim(),!!c){n=1,q(),L(),g();try{const t=await f(c,n);if(u=t.totalHits,t.hits.length===0){l.info({message:"No images found. Try another search."}),i();return}h(t.hits),i(),n*15<u&&b()}catch{l.error({message:"Error loading images. Please try again."}),i()}}});$.addEventListener("click",async()=>{n+=1,L(),g();try{const s=await f(c,n);h(s.hits),i(),n*15>=u?l.info({message:"We're sorry, but you've reached the end of search results."}):b();const{height:t}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:t*2,behavior:"smooth"})}catch{l.error({message:"Error loading more images."}),i()}});
//# sourceMappingURL=index.js.map
