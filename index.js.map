{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["let currentPage = 1;\nlet currentQuery = '';\n\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more-btn');\nconst loader = document.querySelector('.loader');\n\nasync function fetchImages(query, page = 1) {\n  toggleLoading(page);\n\n  try {\n    const response = await fetchFromPixabay(query, page); // твоя функція API\n\n    if (!response.hits || response.hits.length === 0) {\n      gallery.innerHTML = '<p>No images found. Try another search.</p>';\n      toggleLoading(null);\n      return;\n    }\n\n    renderImages(response.hits);\n    currentPage = page;\n    toggleLoading(null); // приховати все після завантаження\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    gallery.innerHTML = '<p>Error loading images. Please try again.</p>';\n    toggleLoading(null);\n  }\n}\n\nfunction renderImages(images) {\n  const markup = images.map(img => `\n    <div class=\"photo-card\">\n      <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p><b>Likes:</b> ${img.likes}</p>\n        <p><b>Views:</b> ${img.views}</p>\n        <p><b>Comments:</b> ${img.comments}</p>\n        <p><b>Downloads:</b> ${img.downloads}</p>\n      </div>\n    </div>\n  `).join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction toggleLoading(page) {\n  if (page === 1) {\n    loadMoreBtn.style.display = 'none';\n    loader.style.display = 'none';\n  } else if (page === 2) {\n    loadMoreBtn.style.display = 'block';\n    loader.style.display = 'none';\n  } else if (page >= 3) {\n    loadMoreBtn.style.display = 'none';\n    loader.style.display = 'block';\n  }\n}\n\ndocument.querySelector('form').addEventListener('submit', e => {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  currentQuery = e.target.elements['search-text'].value.trim();\n  currentPage = 1;\n  fetchImages(currentQuery, currentPage);\n});\n\nloadMoreBtn.addEventListener('click', () => {\n  fetchImages(currentQuery, currentPage + 1);\n});\n"],"names":["currentPage","currentQuery","gallery","loadMoreBtn","loader","fetchImages","query","page","toggleLoading","response","renderImages","error","images","markup","img","e"],"mappings":"ssBAAA,IAAIA,EAAc,EACdC,EAAe,GAEnB,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAS,SAAS,cAAc,SAAS,EAE/C,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CAC1CC,EAAcD,CAAI,EAElB,GAAI,CACF,MAAME,EAAW,MAAM,iBAAiBH,EAAOC,CAAI,EAEnD,GAAI,CAACE,EAAS,MAAQA,EAAS,KAAK,SAAW,EAAG,CAChDP,EAAQ,UAAY,8CACpBM,EAAc,IAAI,EAClB,MACD,CAEDE,EAAaD,EAAS,IAAI,EAC1BT,EAAcO,EACdC,EAAc,IAAI,CACnB,OAAQG,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CT,EAAQ,UAAY,iDACpBM,EAAc,IAAI,CACnB,CACH,CAEA,SAASE,EAAaE,EAAQ,CAC5B,MAAMC,EAASD,EAAO,IAAIE,GAAO;AAAA;AAAA,kBAEjBA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,2BAEzBA,EAAI,KAAK;AAAA,2BACTA,EAAI,KAAK;AAAA,8BACNA,EAAI,QAAQ;AAAA,+BACXA,EAAI,SAAS;AAAA;AAAA;AAAA,GAGzC,EAAE,KAAK,EAAE,EACVZ,EAAQ,mBAAmB,YAAaW,CAAM,CAChD,CAEA,SAASL,EAAcD,EAAM,CACvBA,IAAS,GACXJ,EAAY,MAAM,QAAU,OAC5BC,EAAO,MAAM,QAAU,QACdG,IAAS,GAClBJ,EAAY,MAAM,QAAU,QAC5BC,EAAO,MAAM,QAAU,QACdG,GAAQ,IACjBJ,EAAY,MAAM,QAAU,OAC5BC,EAAO,MAAM,QAAU,QAE3B,CAEA,SAAS,cAAc,MAAM,EAAE,iBAAiB,SAAUW,GAAK,CAC7DA,EAAE,eAAc,EAChBb,EAAQ,UAAY,GACpBD,EAAec,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OACtDf,EAAc,EACdK,EAAYJ,EAAcD,CAAW,CACvC,CAAC,EAEDG,EAAY,iBAAiB,QAAS,IAAM,CAC1CE,EAAYJ,EAAcD,EAAc,CAAC,CAC3C,CAAC"}